<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جدول بيانات السيارات</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            direction: rtl;
        }
        table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #000;
            padding: 10px;
        }
        th {
            background-color: #f4f4f4;
        }
        input, select, button {
            margin: 5px;
            padding: 5px;
        }
    </style>
</head>
<body onload="loadData()">
    <h2>جدول بيانات السيارات</h2>
    <table>
        <thead>
            <tr>
                <th>التاريخ</th>
                <th>اسم العميل</th>
                <th>موبايل</th>
                <th>نوع السيارة</th>
                <th>الموديل</th>
                <th>الشاسية</th>
                <th>رقم السيارة</th>
                <th>كيلو متر</th>
                <th>إجراء</th>
            </tr>
        </thead>
        <tbody id="carTableBody">
        </tbody>
    </table>
    <br>
    <input type="text" id="date" disabled>
    <input type="text" id="customerName" placeholder="اسم العميل">
    <input type="text" id="mobile" placeholder="موبايل">
    <select id="carType">
        <option value="N17">N17</option>
        <option value="B17">B17</option>
        <option value="C11">C11</option>
        <option value="C12">C12</option>
        <option value="E25">E25</option>
        <option value="E26">E26</option>
        <option value="F15">F15</option>
        <option value="F16">F16</option>
        <option value="G11">G11</option>
        <option value="J10">J10</option>
        <option value="J11">J11</option>
        <option value="J12">J12</option>
        <option value="N16">N16</option>
        <option value="T30">T30</option>
        <option value="OTH">OTH</option>
    </select>
    <input type="text" id="model" placeholder="الموديل">
    <input type="text" id="chassis" placeholder="الشاسية">
    <input type="text" id="carNumber" placeholder="رقم السيارة">
    <input type="number" id="km" placeholder="كيلو متر">
    <button onclick="addRow()">إضافة</button>

    <script>
        function loadData() {
            document.getElementById("date").value = new Date().toLocaleDateString("ar-EG");
            let savedData = localStorage.getItem("carData");
            if (savedData) {
                document.getElementById("carTableBody").innerHTML = savedData;
                addDeleteButtons();
            }
        }

        function saveData() {
            localStorage.setItem("carData", document.getElementById("carTableBody").innerHTML);
        }

        function addRow() {
            let table = document.getElementById("carTableBody");
            let row = table.insertRow();
            
            let date = document.getElementById("date").value;
            let customerName = document.getElementById("customerName").value;
            let mobile = document.getElementById("mobile").value;
            let carType = document.getElementById("carType").value;
            let model = document.getElementById("model").value;
            let chassis = document.getElementById("chassis").value;
            let carNumber = document.getElementById("carNumber").value;
            let km = document.getElementById("km").value;
            
            if (!customerName || !mobile || !carType || !model || !chassis || !carNumber || !km) {
                alert("يرجى ملء جميع الحقول قبل الإضافة.");
                return;
            }
            
            let data = [date, customerName, mobile, carType, model, chassis, carNumber, km];
            for (let i = 0; i < data.length; i++) {
                let cell = row.insertCell(i);
                cell.textContent = data[i];
            }
            
            let deleteCell = row.insertCell(data.length);
            let deleteButton = document.createElement("button");
            deleteButton.textContent = "حذف";
            deleteButton.onclick = function() {
                row.remove();
                saveData();
            };
            deleteCell.appendChild(deleteButton);
            
            saveData();
            
            document.getElementById("customerName").value = "";
            document.getElementById("mobile").value = "";
            document.getElementById("carType").value = "N17";
            document.getElementById("model").value = "";
            document.getElementById("chassis").value = "";
            document.getElementById("carNumber").value = "";
            document.getElementById("km").value = "";
        }

        function addDeleteButtons() {
            let table = document.getElementById("carTableBody");
            let rows = table.rows;
            for (let row of rows) {
                let deleteCell = row.insertCell(row.cells.length);
                let deleteButton = document.createElement("button");
                deleteButton.textContent = "حذف";
                deleteButton.onclick = function() {
                    row.remove();
                    saveData();
                };
                deleteCell.appendChild(deleteButton);
            }
        }
    </script>
</body>
</html>
